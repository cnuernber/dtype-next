<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>tech.v3.datatype.jvm-map documentation</title><script async="true" src="https://www.googletagmanager.com/gtag/js?id=G-95TVFC1FEB"></script><script>window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-95TVFC1FEB');</script><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="highlight/solarized-light.css" /><script type="text/javascript" src="highlight/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a> with <a href="https://github.com/xsc/codox-theme-rdash">RDash UI</a> theme</h2><h1><a href="index.html"><span class="project-title"><span class="project-name">dtype-next</span> <span class="project-version">9.033</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Topics</span></h3><ul><li class="depth-1 "><a href="buffered-image.html"><div class="inner"><span>dtype-next Buffered Image Support</span></div></a></li><li class="depth-1 "><a href="cheatsheet.html"><div class="inner"><span>dtype-next Cheatsheet</span></div></a></li><li class="depth-1 "><a href="datatype-to-dtype-next.html"><div class="inner"><span>Why dtype-next?</span></div></a></li><li class="depth-1 "><a href="dimensions-bytecode-gen.html"><div class="inner"><span>dtype-next Tensor Dimensions and Bytecode Generation</span></div></a></li><li class="depth-1 "><a href="overview.html"><div class="inner"><span>dtype-next Overview</span></div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>tech</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>v3</span></div></div></li><li class="depth-3"><a href="tech.v3.datatype.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datatype</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.argops.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>argops</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.bitmap.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bitmap</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.char-input.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>char-input</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.convolve.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>convolve</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.datetime.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datetime</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.errors.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>errors</span></div></a></li><li class="depth-4"><a href="tech.v3.datatype.ffi.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>ffi</span></div></a></li><li class="depth-5 branch"><a href="tech.v3.datatype.ffi.clang.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clang</span></div></a></li><li class="depth-5 branch"><a href="tech.v3.datatype.ffi.graalvm.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>graalvm</span></div></a></li><li class="depth-5"><a href="tech.v3.datatype.ffi.size-t.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>size-t</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.functional.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>functional</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.gradient.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>gradient</span></div></a></li><li class="depth-4 branch current"><a href="tech.v3.datatype.jvm-map.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>jvm-map</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.list.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>list</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.locker.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>locker</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.mmap.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mmap</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.mmap-writer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>mmap-writer</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.native-buffer.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>native-buffer</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.nippy.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>nippy</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.packing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>packing</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.reductions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reductions</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.rolling.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>rolling</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.sampling.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>sampling</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.statistics.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>statistics</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.datatype.struct.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>struct</span></div></a></li><li class="depth-4"><a href="tech.v3.datatype.wavelet.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wavelet</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -827px;"><span class="top" style="height: 836px;"></span><span class="bottom"></span></span><span>libs</span></div></div></li><li class="depth-4 branch"><a href="tech.v3.libs.buffered-image.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>buffered-image</span></div></a></li><li class="depth-4"><a href="tech.v3.libs.neanderthal.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>neanderthal</span></div></a></li><li class="depth-3"><div class="no-link"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>parallel</span></div></div></li><li class="depth-4 branch"><a href="tech.v3.parallel.for.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>for</span></div></a></li><li class="depth-4"><a href="tech.v3.parallel.queue-iter.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>queue-iter</span></div></a></li><li class="depth-3"><a href="tech.v3.tensor.html"><div class="inner"><span class="tree" style="top: -83px;"><span class="top" style="height: 92px;"></span><span class="bottom"></span></span><span>tensor</span></div></a></li><li class="depth-4 branch"><a href="tech.v3.tensor.color-gradients.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>color-gradients</span></div></a></li><li class="depth-4"><a href="tech.v3.tensor.dimensions.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>dimensions</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var--.3Ebi-consumer"><div class="inner"><span>-&gt;bi-consumer</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var--.3Ebi-function"><div class="inner"><span>-&gt;bi-function</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var--.3Efunction"><div class="inner"><span>-&gt;function</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-add.21"><div class="inner"><span>add!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-bi-consumer"><div class="inner"><span>bi-consumer</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-bi-function"><div class="inner"><span>bi-function</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-compute.21"><div class="inner"><span>compute!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-compute-fn.21"><div class="inner"><span>compute-fn!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-compute-if-absent.21"><div class="inner"><span>compute-if-absent!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-compute-if-absent-fn.21"><div class="inner"><span>compute-if-absent-fn!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-compute-if-present.21"><div class="inner"><span>compute-if-present!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-compute-if-present-fn.21"><div class="inner"><span>compute-if-present-fn!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-concurrent-hash-map"><div class="inner"><span>concurrent-hash-map</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-concurrent-hash-map.3F"><div class="inner"><span>concurrent-hash-map?</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-concurrent-set"><div class="inner"><span>concurrent-set</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-contains.3F"><div class="inner"><span>contains?</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-entries"><div class="inner"><span>entries</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-entry-key"><div class="inner"><span>entry-key</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-entry-value"><div class="inner"><span>entry-value</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-foreach.21"><div class="inner"><span>foreach!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-frequencies"><div class="inner"><span>frequencies</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-function"><div class="inner"><span>function</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-get"><div class="inner"><span>get</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-hash-map"><div class="inner"><span>hash-map</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-into-map.21"><div class="inner"><span>into-map!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-merge-with.21"><div class="inner"><span>merge-with!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-opt-map"><div class="inner"><span>opt-map</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-put.21"><div class="inner"><span>put!</span></div></a></li><li class="depth-1"><a href="tech.v3.datatype.jvm-map.html#var-replace-all.21"><div class="inner"><span>replace-all!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">tech.v3.datatype.jvm-map</h1><div class="doc"><div class="markdown"><p>Creation and higher-level  manipulation for <code>java.util.HashMap</code> and
<code>java.util.concurrent.ConcurrentHashMap</code>.</p>
</div></div><div class="public anchor" id="var--.3Ebi-consumer"><h3>-&gt;bi-consumer</h3><div class="usage"><code>(-&gt;bi-consumer ifn)</code></div><div class="doc"><div class="markdown"><p>Take a thing and return a bi-consumer.  If already a bi-consumer return as is,
else calls <code>(bi-consumer x y (ifn x y))</code></p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L126">view source</a></div></div><div class="public anchor" id="var--.3Ebi-function"><h3>-&gt;bi-function</h3><div class="usage"><code>(-&gt;bi-function ifn)</code></div><div class="doc"><div class="markdown"><p>Take a thing and return a bi-function.  If already a bi-function return as is,
else calls <code>(bi-function x y (ifn x y))</code></p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L145">view source</a></div></div><div class="public anchor" id="var--.3Efunction"><h3>-&gt;function</h3><div class="usage"><code>(-&gt;function ifn)</code></div><div class="doc"><div class="markdown"><p>Convert an ifn to a java.util.function.Function.  If ifn is already a Function,
return with no changes.  Else calls <code>(function x (ifn x))</code></p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L163">view source</a></div></div><div class="public anchor" id="var-add.21"><h3>add!</h3><div class="usage"><code>(add! set k)</code></div><div class="doc"><div class="markdown"><p>Add a value to a set</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L77">view source</a></div></div><div class="public anchor" id="var-bi-consumer"><h3>bi-consumer</h3><h4 class="type">macro</h4><div class="usage"><code>(bi-consumer karg varg code)</code></div><div class="doc"><div class="markdown"><p>Create a java.util.function.BiConsumer.  karg will be the name of the first argument
to the consumer, varg will be the name of the second.  Code will be output inline into
the consumer's accept function.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L116">view source</a></div></div><div class="public anchor" id="var-bi-function"><h3>bi-function</h3><h4 class="type">macro</h4><div class="usage"><code>(bi-function karg varg code)</code></div><div class="doc"><div class="markdown"><p>Create a java.util.function.BiFunction.  karg will be the name of the first argument,
varg will be the name of the second argument.  code will be output inline into the
function's apply function.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L135">view source</a></div></div><div class="public anchor" id="var-compute.21"><h3>compute!</h3><div class="usage"><code>(compute! map k val-fn)</code></div><div class="doc"><div class="markdown"><p>Compute a new value in-place.  val-fn gets passed the key and existing value (if any).
It is more efficient to pre-convert val-fn to a bi-function than to force this function
to do it during execution.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L213">view source</a></div></div><div class="public anchor" id="var-compute-fn.21"><h3>compute-fn!</h3><div class="usage"><code>(compute-fn! map val-fn)</code></div><div class="doc"><div class="markdown"><p>Given a map and a function to call if the value is in the map, return a function that
takes a k and returns the result of calling <code>(.compute map k (-&gt;bi-function val-fn))</code>.
<code>val-fn</code> gets passed the key and existing value (if any).</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L204">view source</a></div></div><div class="public anchor" id="var-compute-if-absent.21"><h3>compute-if-absent!</h3><div class="usage"><code>(compute-if-absent! map k val-fn)</code></div><div class="doc"><div class="markdown"><p>Compute a new value in-place.  val-fn gets passed the key.
It is more efficient to pre-convert val-fn to a java.util.function.Function than to force
this function to do it during its execution.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L230">view source</a></div></div><div class="public anchor" id="var-compute-if-absent-fn.21"><h3>compute-if-absent-fn!</h3><div class="usage"><code>(compute-if-absent-fn! map val-fn)</code></div><div class="doc"><div class="markdown"><p>Given a map and a function to call if the value is not in the map, return a function that
takes a k and returns the result of calling <code>(.compute map k (-&gt;function val-fn))</code>.
<code>val-fn</code> gets passed the key when the value is not in the map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L221">view source</a></div></div><div class="public anchor" id="var-compute-if-present.21"><h3>compute-if-present!</h3><div class="usage"><code>(compute-if-present! map k val-fn)</code></div><div class="doc"><div class="markdown"><p>Compute a new value in-place.  val-fn gets passed the key and existing value.
It is more efficient to pre-convert val-fn to a java.util.function.BiFunction than to force
this function to do it during its execution.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L248">view source</a></div></div><div class="public anchor" id="var-compute-if-present-fn.21"><h3>compute-if-present-fn!</h3><div class="usage"><code>(compute-if-present-fn! map val-fn)</code></div><div class="doc"><div class="markdown"><p>Given a map and a function to call if the value is in the map, return a function that
takes a k and returns the result of calling
<code>(.computeIfPresent map k (-&gt;bi-function val-fn))</code>.
<code>val-fn</code> gets passed the existing value and new value is in the map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L238">view source</a></div></div><div class="public anchor" id="var-concurrent-hash-map"><h3>concurrent-hash-map</h3><div class="usage"><code>(concurrent-hash-map)</code><code>(concurrent-hash-map init)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L49">view source</a></div></div><div class="public anchor" id="var-concurrent-hash-map.3F"><h3>concurrent-hash-map?</h3><div class="usage"><code>(concurrent-hash-map? item)</code></div><div class="doc"><div class="markdown"><p>Return true if this is a concurrent hash map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L172">view source</a></div></div><div class="public anchor" id="var-concurrent-set"><h3>concurrent-set</h3><div class="usage"><code>(concurrent-set)</code></div><div class="doc"><div class="markdown"><p>Create a concurrent-safe set.  Wraps (.. (ConcurrentHashMap.) keySet)</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L65">view source</a></div></div><div class="public anchor" id="var-contains.3F"><h3>contains?</h3><div class="usage"><code>(contains? item v)</code></div><div class="doc"><div class="markdown"><p>Much faster version of contains? if you are dealing with java.util sets or maps.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L84">view source</a></div></div><div class="public anchor" id="var-entries"><h3>entries</h3><div class="usage"><code>(entries map xform)</code><code>(entries map)</code></div><div class="doc"><div class="markdown"><p>Get the entries of the hashmap.  Returns a randomly accessible list of data.</p>
<ul>
<li><code>xform</code> is a function from k, v to object. Defaults to vector.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L301">view source</a></div></div><div class="public anchor" id="var-entry-key"><h3>entry-key</h3><div class="usage"><code>(entry-key v)</code></div><div class="doc"><div class="markdown"><p>Given a java.util.Map$Entry, return the key</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L96">view source</a></div></div><div class="public anchor" id="var-entry-value"><h3>entry-value</h3><div class="usage"><code>(entry-value v)</code></div><div class="doc"><div class="markdown"><p>Given a java.util.Map$Entry, return the value</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L102">view source</a></div></div><div class="public anchor" id="var-foreach.21"><h3>foreach!</h3><div class="usage"><code>(foreach! item op &amp; [parallel?])</code></div><div class="doc"><div class="markdown"><p>Perform an operation for each entry in a map.  Returns the op.  This method will by
default be serial unless parallel? is true in which case if the item in question
is a concurrent hash map then the parallel version of foreach is used.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L178">view source</a></div></div><div class="public anchor" id="var-frequencies"><h3>frequencies</h3><div class="usage"><code>(frequencies data)</code></div><div class="doc"><div class="markdown"><p>Faster frequencies that returns either a hash map or concurrent hash map depending on
if the sequence is iterable or if it can be converted to a reader.</p>
<p>For further use of this data see entries below.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L264">view source</a></div></div><div class="public anchor" id="var-function"><h3>function</h3><h4 class="type">macro</h4><div class="usage"><code>(function karg code)</code></div><div class="doc"><div class="markdown"><p>Create a java.util.function.Function.  karg will be the name of the argument,
will be output inline into the function's apply method.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L154">view source</a></div></div><div class="public anchor" id="var-get"><h3>get</h3><div class="usage"><code>(get map k)</code><code>(get map k default-value)</code></div><div class="doc"><div class="markdown"><p>Get a value from a map with a potential default.  Missing values will be nil otherwise.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L108">view source</a></div></div><div class="public anchor" id="var-hash-map"><h3>hash-map</h3><div class="usage"><code>(hash-map)</code><code>(hash-map init)</code></div><div class="doc"><div class="markdown"><p>Create a java.util.HashMap.  Note the only optional argument is for
the initial size of the underlying hashtable.</p>
<p>Init can be of several forms:</p>
<ul>
<li>number? - Used to initializes the hashtable size.</li>
<li>instance? <code>java.util.Map</code> - Hash map is copied.</li>
<li>sequential? - Used like 'into' without xform.</li>
</ul>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L25">view source</a></div></div><div class="public anchor" id="var-into-map.21"><h3>into-map!</h3><div class="usage"><code>(into-map! item data)</code></div><div class="doc"><div class="markdown"><p>put a sequence of pairs into a jvm map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L15">view source</a></div></div><div class="public anchor" id="var-merge-with.21"><h3>merge-with!</h3><div class="usage"><code>(merge-with! lhs rhs op)</code></div><div class="doc"><div class="markdown"><p>Merge <code>rhs</code> into <code>lhs</code> using op to resolve conflicts.  Op gets passed two arguments,
<code>lhs-val</code> <code>rhs-val</code>.  If both rhs and lhs are concurrent hash maps then the merge
is performed in parallel.</p>
<p>Returns <code>lhs</code>.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L190">view source</a></div></div><div class="public anchor" id="var-opt-map"><h3>opt-map</h3><div class="usage"><code>(opt-map args)</code></div><div class="doc"><div class="markdown"><p>Called from java.  Ensure the keys of the map are keywords.  Should be tested
with (opt-map (object-array args)).</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L316">view source</a></div></div><div class="public anchor" id="var-put.21"><h3>put!</h3><div class="usage"><code>(put! map k v)</code></div><div class="doc"><div class="markdown"><p>Put a value into a map returning the map.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L70">view source</a></div></div><div class="public anchor" id="var-replace-all.21"><h3>replace-all!</h3><div class="usage"><code>(replace-all! map val-fn)</code></div><div class="doc"><div class="markdown"><p>Replace all the values in the map with new values computed with val-fn.  val-fn gets passed
the key and the existing value and must return a new value.</p>
</div></div><div class="src-link"><a href="https://github.com/cnuernber/dtype-next/blob/master/src/tech/v3/datatype/jvm_map.clj#L256">view source</a></div></div></div></body></html>